每日“开源项目三选一”方案草稿

目标
- 连续100天，每天8:00推送3个高星（>1000）且领域各异的开源项目到飞书群，附简述“为什么有用有趣”。
- 用户在群内选择后自动部署、上线，Nginx 配域名对外服务，并回报访问信息。

流程
1) 选品阶段（前一晚定时任务）
   - 数据源：GitHub API（备选 GH Trending/GH Archive）按 topic/语言/更新时间拉取，过滤 star>1000、最近活跃、许可证友好、文档齐全。
   - 去重：过去100天内未推过同项目；领域轮换（前端/后端/AI/DevOps/测试/数据/效率工具等）。
   - 产物：挑出3个候选，生成摘要（痛点/亮点/部署方式/演示链接或截图），落库。
2) 推送阶段（每天7:59）
   - 通过飞书机器人/自建 webhook 发群消息，卡片或纯文本“三选一”，附“选1/选2/选3”指令或按钮。
   - 若8:10前未选，按优先级自动默认选择（如未覆盖领域优先）。
3) 确认与触发部署
   - 监听群消息/交互，解析用户选择，记录到数据库，触发部署流水线。
4) 部署流水线（标准化）
   - 拉代码→构建 Docker 镜像→生成最小 env→docker-compose/k8s 部署到预留节点/命名空间。
   - 健康检查，生成 Nginx server 块，子域名规则 `<项目名>-<日期>.example.com`，ACME 自动签证书。
   - 部署完成后飞书回执：域名、默认账号（如需）、演示用法。
5) 运行与回收
   - 记录部署状态、资源、域名；设自动清理策略（如14/30天回收，支持手动保留）。
   - 失败重试与回滚，异常（启动失败、超时、资源暴涨）飞书告警。

数据与配置
- DB 表：projects（项目元信息）、candidates（每日候选）、picks（用户选择）、deployments（部署状态）、domains、logs。
- 缓存 README/截图到本地或对象存储；许可信息入库以便合规审查。

去重与分发策略
- 消息幂等：对飞书交互/指令按 messageId 去重。
- 选品去重：按项目 id 100 天内不重复；按领域维持轮换队列/权重。

兜底与风险
- GitHub API 受限回退 Trending 爬取；当日候选不足用备用池。
- 对外域名默认只读或加 Basic Auth；关注许可证（GPL/AGPL）场景，必要时不对外或限内部。

可加分项
- 自动生成“为何有用有趣”描述：基于 README/标签提取痛点、亮点、上手成本。
- 一键清理指令：在飞书输入“清理过期部署”触发批量下线。***
