# Paper 提示词模板配置

## 目录结构

```
paper/prompts/
├── README.md                  # 本文档
└── review-generation.txt      # 文献综述生成提示词模板
```

## 提示词模板说明

### `review-generation.txt` - 文献综述生成模板

**用途**: 用于 `paper` 命令生成文献综述的提示词模板

**变量替换**:
- `{keywords}` - 用户输入的关键词

**模板来源**: 参考 `/home/lit` 项目的专业提示词设计

**关键特性**:
1. ✅ **精简高效**: 控制在 3000字以内，避免超时
2. ✅ **结构化**: 4个核心章节（背景、方法、进展、未来）
3. ✅ **精选论文**: 只选择 5篇 最具影响力的核心文献
4. ✅ **表格展示**: 包含作者、年份、论文名、引用数、期刊、中文翻译
5. ✅ **Markdown输出**: 适配飞书自动文档转换功能

**输出示例**:
```markdown
## 研究背景与意义
[1-2段背景介绍...]

## 核心研究方法概述
[1-2段方法概述...]

## 主要研究发现与进展
[2-3段核心发现...]

## 未来研究方向
[1段展望...]

## 参考文献
| 作者 | 年份 | 论文名称 | 引用次数 | 发表期刊/会议 | 中文翻译 |
|------|------|---------|---------|-------------|---------|
| ... | ... | ... | ... | ... | ... |
```

## 设计原则

1. **配置分离**: 提示词与代码分离，方便维护和调整
2. **模板化**: 支持变量替换，增强灵活性
3. **缓存机制**: 模板内容缓存到内存，减少文件读取
4. **专业水准**: 参考 `/home/lit` 项目的学术标准

## 修改提示词

1. 直接编辑 `review-generation.txt` 文件
2. 使用 `{keywords}` 作为关键词占位符
3. 保存后重启服务生效（首次加载会缓存）

## 技术实现

**代码位置**: `paper/lib/claude-client.js`

**核心方法**:
- `loadTemplate(templateName)` - 加载提示词模板
- `generateReview(keyword)` - 生成文献综述（自动替换变量）

**使用示例**:
```javascript
const client = new ClaudeClient();
const review = await client.generateReview('深度学习');
// 自动加载模板并替换 {keywords} 为 "深度学习"
```

## 版本历史

### v2.0 (2025-12-11)
- ✨ 新增提示词配置文件系统
- ✨ 参考 `/home/lit` 项目的专业提示词设计
- ✨ 移除硬编码，支持模板化配置
- 🚀 提升生成质量：精简高效、结构清晰

### v1.0 (2025-12-08)
- ⚠️ 硬编码提示词：`使用高引用的真实文献写一段文献综述...`
- ⚠️ 无配置灵活性，难以维护
