<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <!-- 定义渐变和阴影效果 -->
  <defs>
    <!-- 渐变定义 -->
    <linearGradient id="tencentGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00a4ff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0080cc;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="linodeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#02b159;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#018241;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="vpnGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4ecdc4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3aa39b;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dgtGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#cc5555;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="gatewayGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffe66d;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ccb857;stop-opacity:1" />
    </linearGradient>

    <!-- 阴影效果 -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- 箭头标记 -->
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#00a4ff" />
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#ff6b6b" />
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#4ecdc4" />
    </marker>
  </defs>

  <!-- 背景 -->
  <rect width="1200" height="800" fill="#f8f9fa"/>

  <!-- 标题 -->
  <text x="600" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    PNI 私网互联架构图
  </text>
  <text x="600" y="65" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#7f8c8d">
    Linode 与腾讯云法兰克福数据中心专线互联方案
  </text>

  <!-- 腾讯云 VPC 区域 -->
  <g id="tencent-vpc">
    <rect x="50" y="120" width="280" height="280" rx="10" fill="none" stroke="#00a4ff" stroke-width="2" stroke-dasharray="5,5" filter="url(#shadow)"/>
    <text x="190" y="145" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#00a4ff">
      腾讯云 Frankfurt VPC
    </text>

    <!-- VPC 组件 -->
    <rect x="80" y="170" width="220" height="60" rx="8" fill="url(#tencentGradient)" filter="url(#shadow)"/>
    <text x="190" y="195" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
      VPC
    </text>
    <text x="190" y="215" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
      192.168.0.0/16
    </text>

    <rect x="80" y="250" width="220" height="60" rx="8" fill="#e8f4f8" stroke="#00a4ff" stroke-width="1" filter="url(#shadow)"/>
    <text x="190" y="275" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      CVM Instances
    </text>
    <text x="190" y="295" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#7f8c8d">
      192.168.1.0/24
    </text>

    <rect x="80" y="330" width="220" height="50" rx="8" fill="url(#tencentGradient)" filter="url(#shadow)"/>
    <text x="190" y="352" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      专线网关
    </text>
    <text x="190" y="368" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      Direct Connect Gateway
    </text>
  </g>

  <!-- DGT 数据中心 -->
  <g id="dgt-datacenter">
    <rect x="400" y="260" width="200" height="160" rx="10" fill="none" stroke="#ff6b6b" stroke-width="2" stroke-dasharray="5,5" filter="url(#shadow)"/>
    <text x="500" y="285" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff6b6b">
      DGT 法兰克福数据中心
    </text>

    <rect x="425" y="305" width="150" height="50" rx="8" fill="#ffe8e8" stroke="#ff6b6b" stroke-width="1" filter="url(#shadow)"/>
    <text x="500" y="325" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      DGT Core Router
    </text>
    <text x="500" y="342" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#7f8c8d">
      VLAN 100
    </text>

    <rect x="425" y="365" width="150" height="40" rx="8" fill="url(#dgtGradient)" filter="url(#shadow)"/>
    <text x="500" y="382" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
      物理专线
    </text>
    <text x="500" y="397" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      1Gbps/10Gbps
    </text>
  </g>

  <!-- Linode Frankfurt -->
  <g id="linode">
    <rect x="670" y="120" width="480" height="280" rx="10" fill="none" stroke="#02b159" stroke-width="2" stroke-dasharray="5,5" filter="url(#shadow)"/>
    <text x="910" y="145" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#02b159">
      Linode Frankfurt
    </text>

    <!-- Gateway Nodes -->
    <rect x="700" y="170" width="200" height="70" rx="8" fill="url(#gatewayGradient)" filter="url(#shadow)"/>
    <text x="800" y="192" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Gateway Node 1 (主)
    </text>
    <text x="800" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">
      Public: X.X.X.1
    </text>
    <text x="800" y="228" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">
      VLAN: 10.0.0.1/24
    </text>

    <rect x="920" y="170" width="200" height="70" rx="8" fill="#fff4d6" stroke="#ffe66d" stroke-width="1" filter="url(#shadow)"/>
    <text x="1020" y="192" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Gateway Node 2 (备)
    </text>
    <text x="1020" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#7f8c8d">
      Public: X.X.X.2
    </text>
    <text x="1020" y="228" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#7f8c8d">
      VLAN: 10.0.0.2/24
    </text>

    <!-- Private VLAN -->
    <rect x="700" y="260" width="200" height="60" rx="8" fill="#e8f8f0" stroke="#02b159" stroke-width="1" filter="url(#shadow)"/>
    <text x="800" y="282" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Private VLAN
    </text>
    <text x="800" y="302" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#7f8c8d">
      10.0.0.0/16
    </text>

    <!-- Linode Instances -->
    <rect x="700" y="340" width="420" height="50" rx="8" fill="url(#linodeGradient)" filter="url(#shadow)"/>
    <text x="910" y="362" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      Linode Instances
    </text>
    <text x="910" y="378" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      10.0.1.0/24
    </text>
  </g>

  <!-- VPN 隧道层 -->
  <g id="vpn-tunnel">
    <rect x="370" y="470" width="260" height="90" rx="10" fill="url(#vpnGradient)" filter="url(#shadow)"/>
    <text x="500" y="500" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      WireGuard VPN 隧道
    </text>
    <text x="500" y="525" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
      172.16.0.0/30
    </text>
    <text x="500" y="545" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      UDP 51820 | ChaCha20-Poly1305
    </text>
  </g>

  <!-- 连接线 -->
  <!-- CVM to VPC -->
  <line x1="190" y1="250" x2="190" y2="230" stroke="#00a4ff" stroke-width="2" marker-end="url(#arrowBlue)"/>

  <!-- VPC to DCG -->
  <line x1="190" y1="310" x2="190" y2="330" stroke="#00a4ff" stroke-width="2" marker-end="url(#arrowBlue)"/>

  <!-- DCG to DGT Router (with BGP label) -->
  <path d="M 300 355 L 350 330 L 425 330" stroke="#00a4ff" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <rect x="325" y="315" width="70" height="20" rx="5" fill="white" stroke="#00a4ff" stroke-width="1"/>
  <text x="360" y="330" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#00a4ff">
    BGP Peering
  </text>

  <!-- DGT Physical Line to Router -->
  <line x1="500" y1="365" x2="500" y2="355" stroke="#ff6b6b" stroke-width="2" marker-end="url(#arrowRed)"/>

  <!-- DGT Router to Gateway Node 1 -->
  <path d="M 575 330 L 640 240 L 700 210" stroke="#ff6b6b" stroke-width="2.5" fill="none" marker-end="url(#arrowRed)"/>
  <rect x="590" y="270" width="80" height="20" rx="5" fill="white" stroke="#ff6b6b" stroke-width="1"/>
  <text x="630" y="285" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#ff6b6b">
    Static Route
  </text>

  <!-- Gateway Node 1 to Gateway Node 2 (VRRP) -->
  <line x1="900" y1="205" x2="920" y2="205" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
  <rect x="880" y="180" width="75" height="18" rx="5" fill="white" stroke="#95a5a6" stroke-width="1"/>
  <text x="917" y="193" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="#7f8c8d">
    Keepalived
  </text>

  <!-- Gateway to VPN Tunnel -->
  <path d="M 750 240 L 650 380 L 550 470" stroke="#4ecdc4" stroke-width="2.5" fill="none" marker-end="url(#arrowGreen)"/>

  <!-- DCG to VPN Tunnel -->
  <path d="M 250 380 L 370 470" stroke="#4ecdc4" stroke-width="2.5" fill="none" marker-end="url(#arrowGreen)"/>

  <!-- VPN Tunnel to VLAN -->
  <path d="M 630 515 L 700 290" stroke="#4ecdc4" stroke-width="2.5" fill="none" marker-end="url(#arrowGreen)"/>

  <!-- VLAN to Instances -->
  <line x1="800" y1="320" x2="800" y2="340" stroke="#02b159" stroke-width="2"/>

  <!-- 图例 -->
  <g id="legend">
    <rect x="50" y="680" width="450" height="100" rx="8" fill="white" stroke="#bdc3c7" stroke-width="1" filter="url(#shadow)"/>
    <text x="275" y="705" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      图例说明
    </text>

    <line x1="80" y1="725" x2="120" y2="725" stroke="#00a4ff" stroke-width="2.5" marker-end="url(#arrowBlue)"/>
    <text x="130" y="730" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">BGP 路由连接</text>

    <line x1="250" y1="725" x2="290" y2="725" stroke="#ff6b6b" stroke-width="2.5" marker-end="url(#arrowRed)"/>
    <text x="300" y="730" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">物理专线</text>

    <line x1="80" y1="750" x2="120" y2="750" stroke="#4ecdc4" stroke-width="2.5" marker-end="url(#arrowGreen)"/>
    <text x="130" y="755" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">WireGuard 加密隧道</text>

    <line x1="250" y1="750" x2="290" y2="750" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="300" y="755" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">VRRP 高可用</text>
  </g>

  <!-- 性能指标 -->
  <g id="metrics">
    <rect x="550" y="680" width="600" height="100" rx="8" fill="white" stroke="#bdc3c7" stroke-width="1" filter="url(#shadow)"/>
    <text x="850" y="705" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      性能指标
    </text>

    <g transform="translate(580, 720)">
      <rect x="0" y="0" width="140" height="45" rx="5" fill="#e8f4f8"/>
      <text x="70" y="17" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#2c3e50">延迟</text>
      <text x="70" y="33" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#00a4ff">&lt; 3ms</text>
    </g>

    <g transform="translate(740, 720)">
      <rect x="0" y="0" width="140" height="45" rx="5" fill="#ffe8e8"/>
      <text x="70" y="17" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#2c3e50">带宽</text>
      <text x="70" y="33" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#ff6b6b">1-10Gbps</text>
    </g>

    <g transform="translate(900, 720)">
      <rect x="0" y="0" width="140" height="45" rx="5" fill="#e8f8e8"/>
      <text x="70" y="17" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#2c3e50">可用性</text>
      <text x="70" y="33" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#02b159">99.9%</text>
    </g>
  </g>

  <!-- 版本信息 -->
  <text x="1150" y="790" font-family="Arial, sans-serif" font-size="10" text-anchor="end" fill="#95a5a6">
    v1.0 | 2025-12-09
  </text>
</svg>
