# è‡ªåŠ¨åŒ–å¼€å‘ç³»ç»Ÿæ¶æ„

## ç³»ç»Ÿæ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·å±‚ï¼ˆUser Layerï¼‰                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ é£ä¹¦é€šçŸ¥æ¥æ”¶                                                  â”‚
â”‚  â€¢ æ—¥å¿—ç›‘æ§ (tail -f logs/cron.log)                             â”‚
â”‚  â€¢ çŠ¶æ€æŸ¥è¯¢ (task-state.json)                                    â”‚
â”‚  â€¢ æ‰‹åŠ¨æ§åˆ¶ (.auto-dev-pause)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚ é€šçŸ¥ã€æ—¥å¿—
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è°ƒåº¦å±‚ï¼ˆScheduler Layerï¼‰                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      æ¯10åˆ†é’Ÿè§¦å‘                                â”‚
â”‚  â”‚   Cron     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚                             â”‚
â”‚                                   â–¼                             â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                          â”‚  auto-dev.sh    â”‚                    â”‚
â”‚                          â”‚  - æ£€æŸ¥æš‚åœæ ‡è®°  â”‚                    â”‚
â”‚                          â”‚  - è¶…æ—¶æ§åˆ¶     â”‚                    â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                   â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ ¸å¿ƒå±‚ï¼ˆCore Layerï¼‰                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            auto-dev-runner.cjsï¼ˆæ ¸å¿ƒè°ƒåº¦å™¨ï¼‰               â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  1. loadState()           - åŠ è½½ä»»åŠ¡çŠ¶æ€                   â”‚  â”‚
â”‚  â”‚  2. getCurrentTask()      - è·å–å½“å‰ä»»åŠ¡                   â”‚  â”‚
â”‚  â”‚  3. checkDependencies()   - æ£€æŸ¥ä¾èµ–å…³ç³»                   â”‚  â”‚
â”‚  â”‚  4. generatePrompt()      - ç”Ÿæˆæç¤ºè¯ï¼ˆLevel 0-3ï¼‰        â”‚  â”‚
â”‚  â”‚  5. runClaude()          - è°ƒç”¨ Claude CLI                â”‚  â”‚
â”‚  â”‚  6. parseClaudeOutput()  - è§£æè¾“å‡ºï¼ˆâœ…/âŒï¼‰                â”‚  â”‚
â”‚  â”‚  7. recordAttempt()      - è®°å½•å°è¯•                        â”‚  â”‚
â”‚  â”‚  8. notifyFeishu()       - å‘é€é€šçŸ¥                        â”‚  â”‚
â”‚  â”‚  9. advanceToNextTask()  - æ¨è¿›ä»»åŠ¡                        â”‚  â”‚
â”‚  â”‚  10. saveState()         - ä¿å­˜çŠ¶æ€                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                 â”‚                â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                 â”‚                â”‚
            â–¼                 â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ task-parser   â”‚  â”‚ feishu-notifier â”‚  â”‚ Prompt Templates â”‚
â”‚    .cjs       â”‚  â”‚     .cjs        â”‚  â”‚   (Level 0-3)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ è§£ætask.md â”‚  â”‚ â€¢ ä»»åŠ¡å¼€å§‹é€šçŸ¥  â”‚  â”‚ â€¢ Level 0: å‹å¥½  â”‚
â”‚ â€¢ æå–ä»»åŠ¡    â”‚  â”‚ â€¢ ä»»åŠ¡å®Œæˆé€šçŸ¥  â”‚  â”‚ â€¢ Level 1: é‡è¯•  â”‚
â”‚ â€¢ å»ºç«‹ä¾èµ–    â”‚  â”‚ â€¢ ä»»åŠ¡å¤±è´¥é€šçŸ¥  â”‚  â”‚ â€¢ Level 2: ä¸¥æ ¼  â”‚
â”‚ â€¢ ç”ŸæˆçŠ¶æ€æ–‡ä»¶â”‚  â”‚ â€¢ ç³»ç»Ÿæš‚åœé€šçŸ¥  â”‚  â”‚ â€¢ Level 3: PUA   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ å…¨éƒ¨å®Œæˆé€šçŸ¥  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  é£ä¹¦ Open API  â”‚
                   â”‚  (Lark SDK)     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ‰§è¡Œå±‚ï¼ˆExecution Layerï¼‰                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Claude CLI                               â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  è¾“å…¥: æç¤ºè¯ï¼ˆåŒ…å« need.md + design.md + å½“å‰ä»»åŠ¡ï¼‰        â”‚ â”‚
â”‚  â”‚  æ‰§è¡Œ: è¯»å–æ–‡ä»¶ã€ç”Ÿæˆä»£ç ã€è¿è¡Œæµ‹è¯•ã€éªŒè¯ç»“æœ               â”‚ â”‚
â”‚  â”‚  è¾“å‡º: "âœ… TASK_COMPLETED" æˆ– "âš ï¸ TASK_BLOCKED"            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å±‚ï¼ˆData Layerï¼‰                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ task-state.json  â”‚  â”‚   logs/*.log     â”‚  â”‚  need.md      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  design.md    â”‚ â”‚
â”‚  â”‚ â€¢ globalStatus   â”‚  â”‚ â€¢ Cron æ—¥å¿—      â”‚  â”‚  task.md      â”‚ â”‚
â”‚  â”‚ â€¢ currentTask    â”‚  â”‚ â€¢ Claude æ—¥å¿—    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚ â€¢ tasks[]        â”‚  â”‚ â€¢ é”™è¯¯å †æ ˆ       â”‚                     â”‚
â”‚  â”‚ â€¢ attempts[]     â”‚  â”‚ â€¢ è¾“å‡ºæ‘˜è¦       â”‚                     â”‚
â”‚  â”‚ â€¢ dependencies   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ•°æ®æµï¼ˆData Flowï¼‰

### æˆåŠŸè·¯å¾„

```
1. Cron è§¦å‘ (æ¯10åˆ†é’Ÿ)
   â†“
2. auto-dev.sh æ£€æŸ¥æš‚åœæ ‡è®°
   â†“
3. auto-dev-runner.cjs åŠ è½½çŠ¶æ€
   â†“
4. è·å–å½“å‰ä»»åŠ¡ (task 0)
   â†“
5. æ£€æŸ¥ä¾èµ–å…³ç³» âœ…
   â†“
6. ç”Ÿæˆæç¤ºè¯ (Level 0 - å‹å¥½æ¨¡å¼)
   â†“
7. è°ƒç”¨ Claude CLI
   â†“
8. Claude è¯»å–æ–‡æ¡£ â†’ æ‰§è¡Œä»»åŠ¡ â†’ è¾“å‡º "âœ… TASK_COMPLETED"
   â†“
9. è§£æè¾“å‡º â†’ æˆåŠŸ
   â†“
10. è®°å½•å°è¯•åˆ° task-state.json
   â†“
11. å‘é€é£ä¹¦é€šçŸ¥ "âœ… ä»»åŠ¡å®Œæˆ"
   â†“
12. æ¨è¿›åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ (task 1)
   â†“
13. ä¿å­˜çŠ¶æ€
   â†“
14. ç­‰å¾…ä¸‹ä¸€æ¬¡ Cron è§¦å‘ (10åˆ†é’Ÿå)
```

### å¤±è´¥é‡è¯•è·¯å¾„

```
1. ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼ˆç¬¬1æ¬¡ï¼‰
   â†“
2. è®°å½•å¤±è´¥ï¼šretryCount = 1
   â†“
3. å‘é€é€šçŸ¥ï¼š"âŒ ä»»åŠ¡å¤±è´¥ï¼ˆ1/3ï¼‰"
   â†“
4. 10åˆ†é’Ÿå Cron å†æ¬¡è§¦å‘
   â†“
5. åŒä¸€ä»»åŠ¡ï¼Œä½†æç¤ºè¯å‡çº§åˆ° Level 1ï¼ˆé‡è¯•æ¨¡å¼ï¼‰
   â†“
6. å†æ¬¡å¤±è´¥ â†’ retryCount = 2
   â†“
7. æç¤ºè¯å‡çº§åˆ° Level 2ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰
   â†“
8. å†æ¬¡å¤±è´¥ â†’ retryCount = 3
   â†“
9. æç¤ºè¯å‡çº§åˆ° Level 3ï¼ˆPUAæ¨¡å¼ï¼‰
   â†“
10. å¦‚æœä»å¤±è´¥ï¼š
    - status = "blocked"
    - globalStatus = "paused"
    - åˆ›å»º .auto-dev-pause æ–‡ä»¶
    - å‘é€é€šçŸ¥ï¼š"ğŸ›‘ ç³»ç»Ÿæš‚åœï¼Œéœ€äººå·¥ä»‹å…¥"
    â†“
11. Cron æ£€æµ‹åˆ°æš‚åœæ ‡è®°ï¼Œè·³è¿‡æ‰§è¡Œ
    â†“
12. ç­‰å¾…äººå·¥ä¿®å¤...
```

## çŠ¶æ€æœºï¼ˆState Machineï¼‰

```
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   globalStatus: running â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  è·å–å½“å‰ä»»åŠ¡    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ ä¾èµ–æ»¡è¶³ï¼Ÿ       â”‚
                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                     â”‚ æ˜¯    â”‚ å¦
                     â–¼       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
                â”‚ æ‰§è¡Œ   â”‚                 â”‚
                â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                 â”‚
                    â”‚                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
        â”‚ æˆåŠŸï¼Ÿ                 â”‚         â”‚
        â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜         â”‚
          â”‚ æ˜¯               â”‚ å¦         â”‚
          â–¼                  â–¼            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    â”‚ å®Œæˆä»»åŠ¡  â”‚      â”‚ retryCount++â”‚    â”‚
    â”‚ æ¨è¿›ä¸‹ä¸€ä¸ªâ”‚      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜            â”‚            â”‚
           â”‚          â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”      â”‚
           â”‚          â”‚ count < 3? â”‚     â”‚
           â”‚          â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜      â”‚
           â”‚            â”‚ æ˜¯    â”‚ å¦     â”‚
           â”‚            â–¼       â–¼        â”‚
           â”‚         â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
           â”‚         â”‚é‡è¯• â”‚  â”‚ æš‚åœ   â”‚ â”‚
           â”‚         â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
           â”‚                             â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Ÿ   â”‚
                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                     â”‚ æ˜¯    â”‚ å¦
                     â–¼       â””â”€â”€â”
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
           â”‚globalStatus: â”‚     â”‚
           â”‚  completed   â”‚     â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
               ç­‰å¾…ä¸‹æ¬¡ Cron
```

## æç¤ºè¯ç­–ç•¥ï¼ˆPrompt Strategyï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æç¤ºè¯ç”Ÿæˆæµç¨‹                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                     retryCount
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚            â”‚
        â–¼                â–¼                â–¼            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Level 0 â”‚       â”‚Level 1 â”‚      â”‚Level 2 â”‚   â”‚Level 3 â”‚
   â”‚å‹å¥½æ¨¡å¼â”‚       â”‚é‡è¯•æ¨¡å¼â”‚      â”‚ä¸¥æ ¼æ¨¡å¼â”‚   â”‚PUAæ¨¡å¼ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚                â”‚            â”‚
        â–¼                â–¼                â–¼            â–¼
   è¯¦ç»†æŒ‡å¯¼         å¼ºè°ƒå¤±è´¥          å¼ºåˆ¶æ­¥éª¤      æœ€åé€šç‰’
   å»ºè®®æ­¥éª¤         æ›¿ä»£æ–¹æ¡ˆ          é›¶å®¹å¿        è¯æ˜èƒ½åŠ›

æ‰€æœ‰çº§åˆ«éƒ½åŒ…å«ï¼š
  â€¢ need.md å†…å®¹ï¼ˆéœ€æ±‚æ–‡æ¡£ï¼‰
  â€¢ design.md å†…å®¹ï¼ˆæ¶æ„è®¾è®¡ï¼‰
  â€¢ task.md å†…å®¹ï¼ˆä»»åŠ¡æ¸…å•ï¼‰
  â€¢ å½“å‰ä»»åŠ¡è¯¦æƒ…
  â€¢ ä¾èµ–å…³ç³»
  â€¢ æˆåŠŸ/å¤±è´¥æ ‡è®°è¦æ±‚
```

## å…³é”®è®¾è®¡å†³ç­–

### 1. ä»»åŠ¡ä¾èµ–ç®¡ç†

- **é˜¶æ®µé—´ä¾èµ–**: æ¯ä¸ªé˜¶æ®µçš„ç¬¬ä¸€ä¸ªä»»åŠ¡ä¾èµ–ä¸Šä¸€é˜¶æ®µçš„æ‰€æœ‰ä»»åŠ¡
- **é˜¶æ®µå†…ä¾èµ–**: åŒé˜¶æ®µä»»åŠ¡æŒ‰é¡ºåºä¾èµ–å‰ä¸€ä¸ªä»»åŠ¡
- **éªŒè¯æœºåˆ¶**: æ‰§è¡Œå‰æ£€æŸ¥æ‰€æœ‰ä¾èµ–ä»»åŠ¡æ˜¯å¦ä¸º `completed` çŠ¶æ€

### 2. é‡è¯•ç­–ç•¥

- **æœ€å¤§é‡è¯•æ¬¡æ•°**: 3æ¬¡
- **æç¤ºè¯è¿­ä»£**: æ¯æ¬¡é‡è¯•å‡çº§æç¤ºè¯ä¸¥å‰ç¨‹åº¦
- **å¤±è´¥é˜ˆå€¼**: 3æ¬¡å¤±è´¥åè‡ªåŠ¨æš‚åœï¼Œç­‰å¾…äººå·¥ä»‹å…¥

### 3. çŠ¶æ€æŒä¹…åŒ–

- **å®æ—¶ä¿å­˜**: æ¯æ¬¡æ‰§è¡Œåç«‹å³ä¿å­˜çŠ¶æ€åˆ° JSON æ–‡ä»¶
- **å†å²è®°å½•**: ä¿ç•™æ‰€æœ‰å°è¯•çš„å®Œæ•´è®°å½•ï¼ˆæ—¶é—´ã€æç¤ºè¯çº§åˆ«ã€æˆåŠŸ/å¤±è´¥ã€é”™è¯¯ä¿¡æ¯ï¼‰
- **å¯æ¢å¤æ€§**: ç³»ç»Ÿå´©æºƒæˆ–é‡å¯åå¯ä»ä¸Šæ¬¡çŠ¶æ€ç»§ç»­

### 4. é€šçŸ¥æœºåˆ¶

- **å…³é”®èŠ‚ç‚¹é€šçŸ¥**: å¼€å§‹ã€å®Œæˆã€å¤±è´¥ã€æš‚åœã€å…¨éƒ¨å®Œæˆ
- **è¯¦ç»†æ—¥å¿—**: åŒ…å«é”™è¯¯ä¿¡æ¯ã€è¾“å‡ºæ‘˜è¦ã€ç»Ÿè®¡æ•°æ®
- **å¯é…ç½®**: é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶æ˜¯å¦å¯ç”¨

### 5. å®‰å…¨æ§åˆ¶

- **è¶…æ—¶ä¿æŠ¤**: å•æ¬¡æ‰§è¡Œæœ€å¤š10åˆ†é’Ÿ
- **æš‚åœæœºåˆ¶**: æ”¯æŒæ‰‹åŠ¨å’Œè‡ªåŠ¨æš‚åœ
- **æ— é™åˆ¶**: æ€»è¿è¡Œæ¬¡æ•°æ— ä¸Šé™ï¼ˆæ¯10åˆ†é’Ÿè§¦å‘ï¼‰

---

**æ›´æ–°æ—¶é—´**: 2024-11-24
**ç‰ˆæœ¬**: 1.0.0
